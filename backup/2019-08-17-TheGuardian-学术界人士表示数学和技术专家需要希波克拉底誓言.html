<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












  <meta name="yandex-verification" content="5c9da79dbc90da96">











<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="卫报原文/汉娜·弗莱表示科技领域需要道德承诺来塑造未来 一位著名研究人员表示，数学家、计算机工程师和相关领域的科学家应该宣誓，保护公众不受实验室和科技公司正在开发的强大新技术的影响。 这一道德承诺将促使科学家深入思考他们的工作可能的应用，并迫使他们只从事那些至少对社会无害的工作。 伦敦大学学院(University College London)城市数学副教授汉娜·弗莱(Hannah Fry)表示">
<meta name="keywords" content="Mathematics">
<meta property="og:type" content="website">
<meta property="og:title" content="2019&#x2F;08&#x2F;17&#x2F;TheGuardian&#x2F;学术界人士表示数学和技术专家需要希波克拉底誓言">
<meta property="og:url" content="http://yoursite.com/backup/2019-08-17-TheGuardian-学术界人士表示数学和技术专家需要希波克拉底誓言.html">
<meta property="og:site_name" content="News Pipeline">
<meta property="og:description" content="卫报原文/汉娜·弗莱表示科技领域需要道德承诺来塑造未来 一位著名研究人员表示，数学家、计算机工程师和相关领域的科学家应该宣誓，保护公众不受实验室和科技公司正在开发的强大新技术的影响。 这一道德承诺将促使科学家深入思考他们的工作可能的应用，并迫使他们只从事那些至少对社会无害的工作。 伦敦大学学院(University College London)城市数学副教授汉娜·弗莱(Hannah Fry)表示">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-08-17T23:56:37.321Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2019&#x2F;08&#x2F;17&#x2F;TheGuardian&#x2F;学术界人士表示数学和技术专家需要希波克拉底誓言">
<meta name="twitter:description" content="卫报原文/汉娜·弗莱表示科技领域需要道德承诺来塑造未来 一位著名研究人员表示，数学家、计算机工程师和相关领域的科学家应该宣誓，保护公众不受实验室和科技公司正在开发的强大新技术的影响。 这一道德承诺将促使科学家深入思考他们的工作可能的应用，并迫使他们只从事那些至少对社会无害的工作。 伦敦大学学院(University College London)城市数学副教授汉娜·弗莱(Hannah Fry)表示">



  <link rel="alternate" href="http://feed43.com/2662513461037152.xml" title="News Pipeline" type="application/atom+xml">



  
  
  <link rel="canonical" href="http://yoursite.com/backup/2019-08-17-TheGuardian-学术界人士表示数学和技术专家需要希波克拉底誓言">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>2019/08/17/TheGuardian/学术界人士表示数学和技术专家需要希波克拉底誓言 | News Pipeline</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">News Pipeline</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Global News Together</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-timeline">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Timeline</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-posts">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Posts</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

    
    
      
      
    
      
      
    
      
      
    
      
      
    
    

  


          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">2019/08/17/TheGuardian/学术界人士表示数学和技术专家需要希波克拉底誓言

</h1>

<div class="post-meta">
  
  



</div>

</header>

      
      
      
      <div class="post-body">
        
        
          <p><a href="https://www.theguardian.com/" target="_blank" rel="noopener">卫报</a><a href="https://www.theguardian.com/science/2019/aug/16/mathematicians-need-doctor-style-hippocratic-oath-says-academic-hannah-fry" target="_blank" rel="noopener">原文</a>/<strong>汉娜·弗莱表示科技领域需要道德承诺来塑造未来</strong></p>
<p>一位著名研究人员表示，数学家、计算机工程师和相关领域的科学家应该宣誓，保护公众不受实验室和科技公司正在开发的强大新技术的影响。</p>
<p>这一道德承诺将促使科学家深入思考他们的工作可能的应用，并迫使他们只从事那些至少对社会无害的工作。</p>
<p>伦敦大学学院(University College London)城市数学副教授汉娜·弗莱(Hannah Fry)表示，考虑到数学家和计算机工程师正在打造一种将塑造社会未来的技术，类似于博士誓言的誓言至关重要。</p>
<p>弗莱说:“我们需要希波克拉底誓言，就像医学需要誓言一样。”“在医学领域，你从第一天就能学到伦理学。在数学上，这充其量只是一个补充。它必须从第一天就存在，并且在你的每一步行动中都在你的脑海中。”</p>
<p>弗莱将于今年12月为英国皇家学会(Royal Institution)举办2019年圣诞讲座，届时她将探讨现代数学的力量和危险。从法拉第(Michael Faraday)到卡尔?萨根(Carl Sagan)，这些充满演示的讲座深受欢迎。</p>
<p>在三节系列讲座《秘密与谎言:数学的隐藏力量》中，弗莱将探讨风险和运气的数学，从找到完美的伴侣到保持健康和快乐。她还将探索享受数据的算法如何渗透到我们生活的方方面面;数学应该远离哪些问题;当数字不可信时，我们必须如何学习。</p>
<p>弗莱说，她在柏林的一次学术会议上描述了她为伦敦警察厅(Metropolitan police)所做的2011年骚乱的计算机模型，从中体会到了科学家可能存在的道德盲点。观众们了解警察国家的现实，他们在座位上质问她。</p>
<p>当弗莱回到伦敦时，她意识到数学家、计算机工程师和物理学家是如何习惯于处理抽象问题的，以至于他们很少停下来考虑如何使用他们的工作的道德规范。</p>
<p>由于研究人员正在建立收集和出售个人数据、利用人类弱点并做出生死抉择的系统，这个问题变得紧迫起来。弗莱说:“我们的科技公司里都是非常年轻、非常缺乏经验的白人男孩，他们都曾在数学系和计算机科学系工作过。”</p>
<p>“他们从来没有被要求思考道德问题，他们从来没有被要求考虑其他人对生活的看法可能与他们的不同，最终，这些人将为我们所有人设计未来。”</p>
<p>希波克拉底誓言对科学家的重要性以前就有过先例，包括哲学家卡尔·波普尔(Karl Popper)，他在1969年写道:“我们能做的为数不多的事情之一，就是让所有科学家都意识到自己的责任。”30年后，出于道德原因退出盟军核弹项目的约瑟夫•罗特布拉特爵士(Sir Joseph Rotblat)，支持了美国学生帕格沃什集团(Pugwash group)的一项承诺。</p>
<p>在算法方面，弗莱表示，她并不反对它们，但希望充分认识到它们的局限性。她引用了英国生物学家彼得·劳伦斯(Peter Lawrence)的经典教科书《苍蝇的形成》(the Making of a Fly)。亚马逊曾一度以2300万美元的价格出售这本书，原因是卖家算法之间的战争已经失控。在其他情况下，这样的冲突可能不会那么有趣。</p>
<p>这位数学家已经删除了她的Facebook账号，并在网上使用了假名和电子邮件地址。她说，她还认为公众必须对科技公司提供的产品承担一些责任。</p>
<p>“我们得到了我们想要的技术。作为其中的一部分，非常重要的是，我们要在全国范围内讨论我们真正想要的是什么。因为你很容易做出这些决定，而不完全清楚你同意的所有事情。”</p>
<p>她说，基因检测公司23andMe就是一个很好的例子。</p>
<p>“我们确实交出了我们最隐私的数据，我们的DNA，但我们不只是为自己，我们是为我们的孩子，我们孩子的孩子的孩子。也许我们现在生活的世界上没有人在基因上受到歧视，但谁能说100年后我们不会受到歧视呢?我们正在为把我们的DNA添加到这个数据集中而付费。”</p>
<p>她说，答案是用知识武装人们。“未来不会凭空而来。我们正在建设它，我们一直在建设它。我相信，全国性的对话，人们在媒体上说了什么，人们在Twitter和Instagram上谈论了什么，都会产生影响。”</p>
<p>此次讲座将在BBC 4台播出，这将是近200年来第四次以数学为主题的讲座。</p>
<p>弗莱说:“数学最难解决的问题之一就是它是隐形的。”我们这边没有爆炸。尽管数学是无形的，但它对我们的生活有着巨大的影响，在这个历史时刻，它比以往任何时候都更重要。”</p>
<p>2019年圣诞讲座的现场拍摄门票将通过9月5日的投票向RIGB会员、赞助人和英国注册学校开放。</p>
<!--
Maths and tech specialists need Hippocratic oath, says academic

Exclusive: Hannah Fry says ethical pledge needed in tech fields that will shape future

Mathematicians, computer engineers and scientists in related fields should take a Hippocratic oath to protect the public from powerful new technologies under development in laboratories and tech firms, a leading researcher has said.

The ethical pledge would commit scientists to think deeply about the possible applications of their work and compel them to pursue only those that, at the least, do no harm to society.

Hannah Fry, an associate professor in the mathematics of cities at University College London, said an equivalent of the doctor’s oath was crucial given that mathematicians and computer engineers were building the tech that would shape society’s future.

“We need a Hippocratic oath in the same way it exists for medicine,” Fry said. “In medicine, you learn about ethics from day one. In mathematics, it’s a bolt-on at best. It has to be there from day one and at the forefront of your mind in every step you take.”

Fry will explore the power and perils of modern mathematics in December when she delivers the 2019 Royal Institution Christmas lectures. Made popular by figures from Michael Faraday to Carl Sagan, the demonstration-filled sessions were launched in 1825 and became the most prestigious public science lectures in Britain.

In the three-lecture series, Secrets and Lies: the Hidden Power of Mathematics, Fry will examine the maths of risk and luck, from finding the perfect partner to keeping healthy and happy. She will also explore how algorithms that feast on data have infiltrated every aspect of our lives; what problems maths should be kept away from; and how we must learn when the numbers cannot be trusted.

Fry said she got a sense of the ethical blindspots scientists can have while describing to an academic conference in Berlin the computer modelling of the 2011 riots she had done for the Metropolitan police. The audience, which understood the realities of a police state, heckled her from their seats.

When Fry returned to London, she realised how mathematicians, computer engineers and physicists are so used to working on abstract problems that they rarely stop to consider the ethics of how their work might be used.

The issue has become urgent now that researchers are building systems that gather and sell personal data, exploit human frailties, and take on life-or-death decisions. “We’ve got all these tech companies filled with very young, very inexperienced, often white boys who have lived in maths departments and computer science departments,” Fry said.

“They have never been asked to think about ethics, they have never been asked to consider how other people’s perspectives of life might be different to theirs, and ultimately these are the people who are designing the future for all of us.”

The case for a Hippocratic oath for scientists has been made before, including by the philosopher Karl Popper, who wrote in 1969: “One of the few things we can do is to try to keep alive, in all scientists, the consciousness of their responsibility.” Thirty years later, Sir Joseph Rotblat, who quit the allied nuclear bomb project for moral reasons, endorsed a pledge written by the US student Pugwash group.

On algorithms, Fry said she was not against them but wanted to drive home their limitations. She cited the case of the classic textbook The Making of a Fly, by the British biologist Peter Lawrence. At one point, Amazon was offering the book for $23m thanks to a war between sellers’ algorithms which had got out of control. In other circumstances, such a clash might not be so amusing.

The mathematician, who has deleted her Facebook account and uses false names and email addresses online, said she also believed the public must take some responsibility for the products tech firms served up.

“We’re getting the technology we’re asking for. And as part of that it’s really important that we have a national conversation about what it is we actually want. Because it’s very easy to make these decisions without full visibility of everything you are agreeing to.”

The genetics testing firm 23andMe was a case in point, she said.

“We literally hand over our most private data, our DNA, but we’re not just consenting for ourselves, we are consenting for our children, and our children’s children. Maybe we don’t live in a world where people are genetically discriminated against now, but who’s to say in 100 years that we won’t? And we are are paying to add our DNA to that dataset.”

The answer, she said, was to arm people with knowledge. “The future doesn’t just happen. We are building it, and we are building it all the time. The national conversation, what people are saying in the media, what people are talking about on Twitter and on Instagram, I do believe that makes a difference.”

The lectures, to be broadcast on BBC Four, will be only the fourth in nearly 200 years to focus on mathematics.

“One of the problems maths struggles with is that it’s invisible,” Fry said. We haven’t got explosions on our side. But despite being invisible, mathematics has a dramatic impact on our lives, and at this point in history that’s more pertinent than it’s ever been.”

Tickets for the live filming of the 2019 Christmas lectures will be available to RIGB members, patrons and UK registered schools via a ballot opening on 5 September.
-->
        
      </div>
      
      
      
    </div>
    



    
    
    
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Nujabes</p>
              <div class="site-description motion-element" itemprop="description">Translation Training of Nujabes</div>
          </div>

          
            <nav class="site-state motion-element">
              

              

              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="http://feed43.com/2662513461037152.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:n.o.o.n.e@yandex.com" title="E-Mail &rarr; mailto:n.o.o.n.e@yandex.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nujabes</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="Symbols count total">0k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="Reading time total">1 mins.</span>
  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.2</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="85,85,85" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>





  
  









  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/three/three.min.js"></script>

  
  <script src="/lib/three/canvas_lines.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/affix.js?v=7.1.2"></script>

  <script src="/js/schemes/pisces.js?v=7.1.2"></script>




  
  <script src="/js/scrollspy.js?v=7.1.2"></script>
<script src="/js/post-details.js?v=7.1.2"></script>



  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
