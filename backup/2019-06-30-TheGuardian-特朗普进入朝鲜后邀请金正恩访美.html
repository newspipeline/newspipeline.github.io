<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">












  <meta name="yandex-verification" content="5c9da79dbc90da96">











<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">

<link rel="stylesheet" href="/css/main.css?v=7.1.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.1.2">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.2">


  <link rel="mask-icon" href="/images/logo.svg?v=7.1.2" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.1.2',
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false,"dimmer":false},
    back2top: true,
    back2top_sidebar: true,
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="卫报原文/特朗普在即席会议上表示穿越边境是极大的荣幸 特朗普在成为首位进入朝鲜的在任美国总统后，已经邀请金正恩访美。这场即席会议发生于特朗普周六在日本大阪发推文邀请金参加G20峰会之后。和金在两韩间的非军事区握手后，特朗普随金跨过朝韩边境。特朗普称：“跨越这条边境是极大的荣幸。我们取得了极大的进展，建立了深厚的友谊，特别是这段友谊。”金正恩特朗普与韩国总统文在寅三边会谈后，特朗普称他同意与金重启今">
<meta name="keywords" content="US,NK">
<meta property="og:type" content="website">
<meta property="og:title" content="2019&#x2F;06&#x2F;30&#x2F;TheGuardian&#x2F;特朗普进入朝鲜后邀请金正恩访美">
<meta property="og:url" content="http://yoursite.com/backup/2019-06-30-TheGuardian-特朗普进入朝鲜后邀请金正恩访美.html">
<meta property="og:site_name" content="News Pipeline">
<meta property="og:description" content="卫报原文/特朗普在即席会议上表示穿越边境是极大的荣幸 特朗普在成为首位进入朝鲜的在任美国总统后，已经邀请金正恩访美。这场即席会议发生于特朗普周六在日本大阪发推文邀请金参加G20峰会之后。和金在两韩间的非军事区握手后，特朗普随金跨过朝韩边境。特朗普称：“跨越这条边境是极大的荣幸。我们取得了极大的进展，建立了深厚的友谊，特别是这段友谊。”金正恩特朗普与韩国总统文在寅三边会谈后，特朗普称他同意与金重启今">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-06-30T17:00:37.784Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="2019&#x2F;06&#x2F;30&#x2F;TheGuardian&#x2F;特朗普进入朝鲜后邀请金正恩访美">
<meta name="twitter:description" content="卫报原文/特朗普在即席会议上表示穿越边境是极大的荣幸 特朗普在成为首位进入朝鲜的在任美国总统后，已经邀请金正恩访美。这场即席会议发生于特朗普周六在日本大阪发推文邀请金参加G20峰会之后。和金在两韩间的非军事区握手后，特朗普随金跨过朝韩边境。特朗普称：“跨越这条边境是极大的荣幸。我们取得了极大的进展，建立了深厚的友谊，特别是这段友谊。”金正恩特朗普与韩国总统文在寅三边会谈后，特朗普称他同意与金重启今">



  <link rel="alternate" href="http://feed43.com/2662513461037152.xml" title="News Pipeline" type="application/atom+xml">



  
  
  <link rel="canonical" href="http://yoursite.com/backup/2019-06-30-TheGuardian-特朗普进入朝鲜后邀请金正恩访美">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>2019/06/30/TheGuardian/特朗普进入朝鲜后邀请金正恩访美 | News Pipeline</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">News Pipeline</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Global News Together</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-timeline">

    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Timeline</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-posts">

    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Posts</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
      
    

    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

    
    
      
      
    
      
      
    
      
      
    
      
      
    
    

  


          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    
    
    
    <div class="post-block page">
      <header class="post-header">

<h1 class="post-title" itemprop="name headline">2019/06/30/TheGuardian/特朗普进入朝鲜后邀请金正恩访美

</h1>

<div class="post-meta">
  
  



</div>

</header>

      
      
      
      <div class="post-body">
        
        
          <p><a href="https://www.theguardian.com/" target="_blank" rel="noopener">卫报</a><a href="https://www.theguardian.com/us-news/2019/jun/30/trump-to-travel-to-demilitarised-zone-for-possible-meeting-with-kim-jong-un" target="_blank" rel="noopener">原文</a>/<strong>特朗普在即席会议上表示穿越边境是极大的荣幸</strong></p>
<p>特朗普在成为首位进入朝鲜的在任美国总统后，已经邀请金正恩访美。<br>这场即席会议发生于特朗普周六在日本大阪发推文邀请金参加G20峰会之后。<br>和金在两韩间的非军事区握手后，特朗普随金跨过朝韩边境。特朗普称：“跨越这条边境是极大的荣幸。我们取得了极大的进展，建立了深厚的友谊，特别是这段友谊。”<br>金正恩特朗普与韩国总统文在寅三边会谈后，特朗普称他同意与金重启今年早些时候停止的核谈判，并邀请他“当时机成熟时”访美。<br>特朗普称他和金“不求速度，只求做好”。他补充道：“我们将组建团队，他们将在接下来的几周展开讨论，他们将开启进程，我们将看看会发生些什么。”<br>他说制裁会仍然存在，但华盛顿愿意妥协，作为朝鲜向无核化逐步进展的回报。这一方法之前曾被拒绝。他说：“在谈判的某个时间点，或许会有进展。”<br>金称这场在全副武装的边界的会面原本只是简单的寒暄，但却持续了近一个小时。这是朝美双方关系回暖的表现。<br>他说：“我认为两个过去有敌对关系的国家在这里会面，是在向世界展示我们之间有了新的局面，我们未来也将有积极的会面。”<br>紧张的局势主要来自于美国记者与朝鲜安保人员。<br>金与特朗普会面时，外界局势进一步恶化，朝鲜安保人员试图阻止美国记者团进入非军事区南侧自由之家的一个房间内，而两国领导人将在这里会谈。报道称特勤局不得不介入。<br>混战中被粗暴对待的包括白宫新闻秘书Stephanie Grisham，她有擦伤。<br>早些时候，在韩国首都首尔，特朗普称他“非常期待会面，他理解我，我认为我或许理解他”。<br>“我们两有非常良好的关系”，他补充道。“我想跟他打招呼，然后看看事态会不会有进展。会面会非常短暂但没什么问题。握手就很有意义了。”<br>文在寅在会谈前称特朗普和金之间，即使是握手和简短的会面“也会是在朝鲜半岛和平化进程中具有里程碑意义的事件”。<br>他说：“他真的能感受到和平之花真真切切地在朝鲜半岛上盛开。”<br>文在寅在联合新闻发布会上称，他对这次在板门店边境村庄的会晤感到“激动不已”。他将金和特朗普的会面描述为“非常勇敢”，并补充道“我希望特朗普总统能以完成朝鲜半岛和平的总统载入史册”。<br>特朗普在周六日本大阪的G20峰会上称与金踏入朝鲜没有问题。2018年金曾邀请文在寅步行穿过两韩之间的边界军事三八线。<br>特朗普是首个跨过边境的美国总统，这一姿态表明了金公关倾向的转变。金之前曾于去年与特朗普习近平和普京召开峰会。<br>特朗普和金去年在全球瞩目中于新加坡首次见面。这是拥有核武器的朝鲜领导人首次和美国在位总统会晤。两国军队和他们的同盟的战争在1950-1953年的朝鲜战争中陷入僵局。<br>新加坡峰会达成了一份措辞含糊的无核化协议，但二月在越南河内的第二次会议则突然停滞无果而终。<br>双方之间的接触很少，平壤方面经常对美国的立场加以批评，但双方领导人已经交换了一系列信件。<br>这条宽2.5英里，长150英里的非军事区是1953年朝鲜战争结束时的前线，当时双方签署的是停火协议而不是和平协议。它被描述为世界上最后的冷战前线。<br>特朗普在穿越边境前称，自从他就任以来一直试图与金会面，这让韩国与朝鲜都从中受益。“朝鲜和韩国情况都比两年半前要好”，他说，“不分昼夜”。<br>“朝鲜正发生很多好的事情，”他告诉韩国商业领袖，重申他的看法：美国“会与朝鲜开战”如果其他人当选美国总统的话。</p>
<!--
Donald Trump invites Kim Jong-un to US after entering North Korea
US president hails ‘great honour’ of crossing border at impromptu meeting

Donald Trump has invited Kim Jong-un to the US after becoming the first sitting American president to enter North Korea.

The apparently impromptu meeting came about after Trump tweeted an invitation to Kim on Saturday from the G20 summit in Osaka, Japan.

After shaking hands with Kim in the demilitarised zone (DMZ) between the two Koreas and walking with him over the border, Trump said: “Stepping across that line is a great honour. Great progress has been made, great friendships have been made and this has been, in particular, a great friendship.”

Following a trilateral meeting between Kim, Trump and the South Korean president, Moon Jae-in, Trump later said he agreed with Kim to restart talks after nuclear negotiations stalled earlier this year and had invited him to the US “when the time is right”.

Trump said he and Kim were “not looking for speed. We’re looking to get it right.” He added: “We are going to have teams, they are going to meet over the next weeks, they are going to start a process and we will see what happens.”

He said sanctions would remain in place, but suggested Washington might be willing to offer concessions in return for piecemeal North Korean moves towards denuclearisation – an approach it had previously rejected. “At some point during the negotiation things can happen,” he said.

Kim said the meeting at the heavily armed border, which was originally supposed to be a brief exchange of pleasantries but lasted almost an hour, was symbolic of warming ties between the US and North Korea.

“I think meeting here, two countries that have a hostile past, we are showcasing to the world that we have a new present and we have a positive meeting going forward,” he said.

The main source of tension appeared to be between US reporters and North Korean security guards.

The jostling seen outside when Kim and Trump met worsened when North Korean guards tried to physically prevent reporters with the US press pool from entering a room inside the Freedom House on the southern side of the DMZ where the two leaders were about to start their meeting. Reports said the Secret Service had to intervene.

Those roughed up in the scuffle included the new White House press secretary, Stephanie Grisham, who ended up with bruises.

Earlier, in the South Korean capital, Seoul, Trump said he was “looking forward to [the meeting] very much … He understands me and I think I maybe understand him.”

“We have a very good relationship, the two of us,” he added, referring to Kim. “I want to say hello. Let’s see what happens … It will be very short but that’s OK. A handshake means a lot.”

Moon said ahead of the talks that even a handshake and brief encounter between Trump and Kim “would be a significant milestone in the peace process on the Korean peninsula”.

He said he could “really feel that the flower of peace was truly blossoming on the Korean peninsula”.

Moon later told a joint press conference he was “overwhelmed” with emotion about the meeting at the border village of Panmunjom. He described Trump and Kim as “so brave”, adding: “I hope President Trump will go down in history as the president who achieves peace on the Korean peninsula.”

Trump said at the G20 in Osaka on Saturday that he would have “no problem” stepping into North Korea with Kim. In 2018 Kim had invited Moon to walk over the military demarcation line that forms the border between the Koreas.

Trump is the first sitting US president to step across the border, and the gesture represents a public relations coup for Kim, who has held summits with Trump, the Chinese president, Xi Jinping, and the Russian president, Vladimir Putin, in the past year.

Trump and Kim first met in Singapore last year in a blaze of publicity – the first encounter between a leader of nuclear-armed North Korea and a sitting US president. The two countries’ forces and their allies fought each other to a stalemate in the 1950-53 Korean war.

The Singapore summit produced a vaguely worded pledge about denuclearisation, but a second meeting in Hanoi in Vietnam in February broke up abruptly without agreement.

Contact between the two sides has since been minimal, with Pyongyang issuing frequent criticisms of the US position, but the two leaders have exchanged a series of letters.

The 2.5-mile-wide DMZ, which runs for 150 miles, is where the frontline lay when the Korean war ended in 1953, with a ceasefire rather than a peace treaty. It is described as the world’s last cold war frontier.

Trump claimed before he crossed the border that both North and South Korea had benefited from his attempts to engage Kim since he became president. “North Korea and South Korea are both in much better places than they were two and a half years ago,” he said. “It’s day and night.”

“Lots of good things are happening with North Korea,” he told South Korean business leaders, repeating his belief that the US “would have been at war with North Korea” if someone else had been elected to the White House.

However, Robert Kelly of South Korea’s Pusan National University derided Trump’s invitation to Kim as “emblematic of why the Trump NK effort is a farce: thrown together; last-minute; made for TV”.

It was driven by Trump’s “lust for optics and drama rather than substance” and “a photo op for the 2020 election”, he tweeted.

But John Delury of Yonsei University in Seoul said a meeting in the “barren no man’s land that embodies the unhealed wound of post-WWII division, the Korean war, and 70 years of animosity” would help improve ties.

“It’s not just about denuclearisation and it’s not all about a deal – important as those are,” he said. “If Trump and Kim meet and can announce some kind of interim agreement, that’s great. If they meet and don’t, that’s OK too. If in the end they don’t meet, it’s good that Trump offered to.”

On Sunday morning, Trump also hailed the trade talks with Xi at the G20 in Japan on Saturday as having gone “far better than expected” and vowed to hold off on further tariffs as negotiations with China continued.

“The quality of the transaction is far more important to me than speed. I am in no hurry, but things look very good!” Trump tweeted on Sunday.

The economic ceasefire halting damaging trade frictions came after the highly anticipated meeting between the two leaders of on the sidelines of the G20 summit.

Washington confirmed it would not impose any further tariffs on Beijing’s exports. On Sunday Trump reiterated that China had agreed to buy “large amounts of agricultural products from our great farmers”.

“Importantly, we have opened up negotiations again with China as our relationship with them continues to be a very good one,” he tweeted.
-->
        
      </div>
      
      
      
    </div>
    



    
    
    
  </div>


          </div>
          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <div class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Nujabes</p>
              <div class="site-description motion-element" itemprop="description">Translation Training of Nujabes</div>
          </div>

          
            <nav class="site-state motion-element">
              

              

              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="http://feed43.com/2662513461037152.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  
                  
                    
                  
                  
                    
                  
                  <a href="mailto:n.o.o.n.e@yandex.com" title="E-Mail &rarr; mailto:n.o.o.n.e@yandex.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
            </div>
          

          

          
          

          
            
          
          

        </div>
      </div>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>
  


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Nujabes</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
    <span title="Symbols count total">0k</span>
  

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    
    <span title="Reading time total">1 mins.</span>
  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.1.2</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>














  
    
    
  
  <script color="85,85,85" opacity="0.5" zindex="-1" count="99" src="/lib/canvas-nest/canvas-nest.min.js"></script>





  
  









  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script src="/lib/three/three.min.js"></script>

  
  <script src="/lib/three/canvas_lines.min.js"></script>


  


  <script src="/js/utils.js?v=7.1.2"></script>

  <script src="/js/motion.js?v=7.1.2"></script>



  
  


  <script src="/js/affix.js?v=7.1.2"></script>

  <script src="/js/schemes/pisces.js?v=7.1.2"></script>




  
  <script src="/js/scrollspy.js?v=7.1.2"></script>
<script src="/js/post-details.js?v=7.1.2"></script>



  


  <script src="/js/next-boot.js?v=7.1.2"></script>


  

  

  

  


  


  
  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
  

  
  

  


  

  

  

  

  

  

  

  

  

  

  

</body>
</html>
